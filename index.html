<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz RÃ©volution FranÃ§aise â€“ 4Ã¨me</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#FFDEE9,#B5FFFC);display:flex;justify-content:center;align-items:center;height:100vh;margin:0;overflow:hidden;}
main {background:white;padding:30px;border-radius:20px;width:90%;max-width:800px;box-shadow:0 20px 40px rgba(0,0,0,0.3);text-align:center;transition:all 0.3s ease;}
h1 {margin-bottom:10px;color:#333;}
button {display:block;margin:10px auto;padding:14px;width:80%;border-radius:12px;border:none;cursor:pointer;font-size:16px;font-weight:bold;transition:0.2s ease;}
button:hover {opacity:0.9;transform:scale(1.02);}
.correct {background:#4CAF50 !important;color:white;}
.wrong {background:#F44336 !important;color:white;}
.adminBtn {background:#FF9800;color:white;}
.adminBtn:hover {background:#F57C00;}
.delBtn {background:#F44336;width:60%;margin:5px auto;}
#info {margin-top:15px;font-style:italic;color:#555;min-height:30px;}
#scoreboard, #adminScoreboard{text-align:left;margin-top:20px;max-height:250px;overflow-y:auto;}
#scoreboard div.top {background:#FFEB3B;border-radius:8px;padding:5px;}
input {padding:10px;border-radius:8px;border:1px solid #ccc;width:60%;font-size:16px;}
#pseudoDiv p {margin-bottom:10px;}
#timer{font-weight:bold;margin-bottom:10px;color:#e91e63;}
</style>
</head>
<body>
<main>
<h1>Quiz RÃ©volution FranÃ§aise â€“ 4Ã¨me</h1>

<div id="pseudoDiv">
  <p>Entrez votre pseudo pour commencer :</p>
  <input type="text" id="pseudo" placeholder="Pseudo" />
  <button onclick="startQuiz()">Commencer</button>
  <button class="adminBtn" onclick="adminLogin()">Mode Admin</button>
</div>

<div id="quizDiv" style="display:none;">
  <div id="timer">Temps : 15 s</div>
  <div id="progress"></div>
  <div class="question" id="question"></div>
  <div id="answers"></div>
  <p id="info"></p>
</div>

<div id="resultDiv" style="display:none;">
  <h2>ðŸŽ‰ Quiz terminÃ© ! ðŸŽ‰</h2>
  <p id="scoreText"></p>
  <h3>Classement :</h3>
  <div id="scoreboard"></div>
  <button onclick="restartQuiz()">Rejouer</button>
</div>

<div id="adminDiv" style="display:none;">
  <h2>Mode Admin</h2>
  <p>Supprime les pseudos offensants :</p>
  <div id="adminScoreboard"></div>
  <button onclick="closeAdmin()">Fermer</button>
</div>

<script>
const MASTER_ID="@timlol";

/* 50 QUESTIONS */
const banqueQuestions=[
{q:"En quelle annÃ©e commence la RÃ©volution franÃ§aise ?", a:["1789","1799","1776","1804"], r:"1789", e:"La RÃ©volution commence en 1789."},
{q:"Qui Ã©tait le roi en 1789 ?", a:["Louis XVI","Louis XIV","NapolÃ©on","Charles X"], r:"Louis XVI", e:"Louis XVI est le roi au dÃ©but de la RÃ©volution."},
{q:"Quel Ã©vÃ©nement a lieu le 14 juillet 1789 ?", a:["Prise de la Bastille","FÃªte nationale","ExÃ©cution du roi","Code civil"], r:"Prise de la Bastille", e:"La prise de la Bastille est un symbole fort."},
{q:"Comment s'appelle la prison dÃ©truite en 1789 ?", a:["La Bastille","Le Louvre","Versailles","La Conciergerie"], r:"La Bastille", e:"La Bastille Ã©tait une prison royale."},
{q:"Quelle assemblÃ©e reprÃ©sente le peuple ?", a:["Ã‰tats gÃ©nÃ©raux","SÃ©nat","Parlement","Conseil royal"], r:"Ã‰tats gÃ©nÃ©raux", e:"Les Ã‰tats gÃ©nÃ©raux regroupent les trois ordres."},
{q:"Quel document proclame les libertÃ©s ?", a:["DÃ©claration des droits de l'homme","Code civil","Edit royal","Constitution de 1815"], r:"DÃ©claration des droits de l'homme", e:"AdoptÃ©e en 1789, elle proclame la libertÃ© et l'Ã©galitÃ©."},
{q:"Quel ordre payait le plus d'impÃ´ts ?", a:["Le Tiers Ã‰tat","La noblesse","Le clergÃ©","Le roi"], r:"Le Tiers Ã‰tat", e:"Le Tiers Ã‰tat supportait la majoritÃ© des impÃ´ts."},
{q:"Comment appelle-t-on les rÃ©volutionnaires du peuple ?", a:["Sans-culottes","Nobles","Clercs","Royalistes"], r:"Sans-culottes", e:"Ils reprÃ©sentent le peuple des villes."},
{q:"Quel roi est exÃ©cutÃ© ?", a:["Louis XVI","Louis XIV","NapolÃ©on","Charles X"], r:"Louis XVI", e:"Il est guillotinÃ© en janvier 1793."},
{q:"Quel est le symbole de la RÃ©publique ?", a:["Drapeau tricolore","Fleur de lys","Couronne","Croix"], r:"Drapeau tricolore", e:"Le drapeau bleu, blanc, rouge symbolise la RÃ©publique."},
{q:"Qui dirige pendant la Terreur ?", a:["Robespierre","NapolÃ©on","Louis XVI","Danton"], r:"Robespierre", e:"Robespierre dirige le ComitÃ© de salut public."},
{q:"Comment s'appelle la pÃ©riode violente ?", a:["La Terreur","La Paix","La Monarchie","L'Empire"], r:"La Terreur", e:"La Terreur se caractÃ©rise par des exÃ©cutions massives."},
{q:"Quel rÃ©gime remplace la monarchie ?", a:["La RÃ©publique","L'Empire","La dictature","La royautÃ©"], r:"La RÃ©publique", e:"La RÃ©publique est proclamÃ©e en 1792."},
{q:"Qui est NapolÃ©on ?", a:["Un gÃ©nÃ©ral","Un roi","Un Ã©vÃªque","Un Ã©crivain"], r:"Un gÃ©nÃ©ral", e:"NapolÃ©on profite de la RÃ©volution pour prendre le pouvoir."},
{q:"Quel calendrier est crÃ©Ã© ?", a:["Calendrier rÃ©publicain","Calendrier grÃ©gorien","Calendrier romain","Calendrier lunaire"], r:"Calendrier rÃ©publicain", e:"CrÃ©Ã© pour rompre avec l'Ã‰glise."},
{q:"Que rÃ©clame le peuple ?", a:["Plus d'Ã©galitÃ©","Plus d'impÃ´ts","Plus de rois","Plus de guerres"], r:"Plus d'Ã©galitÃ©", e:"Le peuple rÃ©clame l'Ã©galitÃ© face aux privilÃ¨ges."},
{q:"Que sont les privilÃ¨ges ?", a:["Avantages rÃ©servÃ©s","Lois","ImpÃ´ts","Armes"], r:"Avantages rÃ©servÃ©s", e:"RÃ©servÃ©s aux nobles et au clergÃ©."},
{q:"Quel slogan est cÃ©lÃ¨bre ?", a:["LibertÃ© Ã‰galitÃ© FraternitÃ©","Vive le roi","Paix et guerre","Force et loi"], r:"LibertÃ© Ã‰galitÃ© FraternitÃ©", e:"Devise de la RÃ©publique."},
{q:"OÃ¹ se rÃ©unit le Tiers Ã‰tat ?", a:["Jeu de Paume","Versailles","Bastille","Louvre"], r:"Jeu de Paume", e:"Serment du Jeu de Paume."},
{q:"Quel impÃ´t est injuste ?", a:["La taille","TVA","ImpÃ´t sur le revenu","DÃ®me"], r:"La taille", e:"PayÃ©e presque uniquement par le Tiers Ã‰tat."},
{q:"Que devient la France aprÃ¨s ?", a:["RÃ©publique","Empire","Monarchie","Dictature"], r:"RÃ©publique", e:"PremiÃ¨re RÃ©publique proclamÃ©e en 1792."},
{q:"Qui crÃ©e la guillotine ?", a:["Dr. Guillotin","Robespierre","NapolÃ©on","Louis XVI"], r:"Dr. Guillotin", e:"Pour rendre les exÃ©cutions plus humaines."},
{q:"Comment s'appelle le procÃ¨s du roi ?", a:["ProcÃ¨s de Louis XVI","ProcÃ¨s de Versailles","ProcÃ¨s de Paris","ProcÃ¨s du peuple"], r:"ProcÃ¨s de Louis XVI", e:"JugÃ© pour trahison."},
{q:"Que font les sans-culottes ?", a:["Manifestations et rÃ©voltes","Gouvernent la France","Ã‰crivent des lois","Se battent pour le roi"], r:"Manifestations et rÃ©voltes", e:"Participent aux journÃ©es rÃ©volutionnaires."},
{q:"Qui Ã©tait Danton ?", a:["RÃ©volutionnaire","Roi","GÃ©nÃ©ral","Ã‰vÃªque"], r:"RÃ©volutionnaire", e:"Leader rÃ©volutionnaire influent."},
{q:"Qui Ã©tait Marat ?", a:["Journaliste rÃ©volutionnaire","Roi","Soldat","Ã‰vÃªque"], r:"Journaliste rÃ©volutionnaire", e:"Ã‰crit pour soutenir les sans-culottes."},
{q:"Qui Ã©tait Robespierre ?", a:["Chef rÃ©volutionnaire","Roi","Ã‰vÃªque","Ã‰crivain"], r:"Chef rÃ©volutionnaire", e:"Dirige le ComitÃ© de salut public."},
{q:"Quelle fÃªte nationale apparaÃ®t ?", a:["14 juillet","1er janvier","25 dÃ©cembre","14 aoÃ»t"], r:"14 juillet", e:"En souvenir de la prise de la Bastille."},
{q:"Quel symbole royal disparaÃ®t ?", a:["La fleur de lys","Guillotine","Drapeau tricolore","Bonnet"], r:"La fleur de lys", e:"Symbole de la monarchie abandonnÃ©."},
{q:"Qui est exÃ©cutÃ© avec le roi ?", a:["Marie-Antoinette","Danton","Robespierre","NapolÃ©on"], r:"Marie-Antoinette", e:"GuillotinÃ©e en 1793."},
{q:"Quelle guerre Ã©clate aprÃ¨s ?", a:["Guerres rÃ©volutionnaires","Guerre de 100 ans","Guerre de 7 ans","Guerre civile"], r:"Guerres rÃ©volutionnaires", e:"France se dÃ©fend contre les monarchies europÃ©ennes."},
{q:"Qui vote pour la RÃ©publique ?", a:["La Convention","Le peuple seul","Les nobles","NapolÃ©on"], r:"La Convention", e:"Vote en septembre 1792."},
{q:"Qui est exÃ©cutÃ© pendant la Terreur ?", a:["Beaucoup de nobles","Le peuple","Le roi","NapolÃ©on"], r:"Beaucoup de nobles", e:"Pour protÃ©ger la RÃ©volution."},
{q:"Qui dirige aprÃ¨s la Terreur ?", a:["Le Directoire","Robespierre","Le roi","NapolÃ©on"], r:"Le Directoire", e:"Gouverne de 1795 Ã  1799."},
{q:"Qui met fin Ã  la RÃ©volution ?", a:["NapolÃ©on","Robespierre","Louis XVI","Danton"], r:"NapolÃ©on", e:"Coup d'Ã‰tat du 18 Brumaire 1799."},
{q:"Quel document est la Constitution ?", a:["Constitution de 1791","DÃ©claration des droits","Code civil","Edit royal"], r:"Constitution de 1791", e:"Limite le pouvoir du roi."},
{q:"Quel roi tente de fuir ?", a:["Louis XVI","Louis XIV","NapolÃ©on","Charles X"], r:"Louis XVI", e:"Fuite Ã  Varennes en 1791."},
{q:"Que signifie â€œTiers-Ã‰tatâ€ ?", a:["Peuple","Noblesse","ClergÃ©","Roi"], r:"Peuple", e:"Ceux qui ne font pas partie du clergÃ© ou de la noblesse."},
{q:"Quel est le mot dâ€™ordre des rÃ©volutionnaires ?", a:["LibertÃ©","Vive le roi","Paix","Force"], r:"LibertÃ©", e:"LibertÃ© au centre de la RÃ©volution."},
{q:"Que devient Versailles ?", a:["Symbole abandonnÃ©","RÃ©sidence royale","Prison","Ã‰glise"], r:"Symbole abandonnÃ©", e:"Versailles perd sa fonction de centre du pouvoir."},
{q:"Qui crÃ©e le calendrier rÃ©publicain ?", a:["RÃ©volutionnaires","Roi","NapolÃ©on","ClergÃ©"], r:"RÃ©volutionnaires", e:"Pour rompre avec les symboles religieux."},
{q:"Quel est le rÃ´le des sans-culottes ?", a:["Milice populaire","Nobles","Roi","Ã‰glise"], r:"Milice populaire", e:"ContrÃ´lent les rues de Paris."},
{q:"Qui est le chef des girondins ?", a:["Brissot","Robespierre","Danton","NapolÃ©on"], r:"Brissot", e:"ModÃ©rÃ© par rapport aux Montagnards."},
{q:"Qui Ã©taient les Montagnards ?", a:["Radicaux rÃ©volutionnaires","Nobles","ClergÃ©","Roi"], r:"Radicaux rÃ©volutionnaires", e:"Veulent mesures strictes."},
{q:"Quel outil est utilisÃ© pour exÃ©cuter ?", a:["Guillotine","Ã‰pÃ©e","BÃ¢ton","Canon"], r:"Guillotine", e:"ExÃ©cutions rapides et Ã©gales pour tous."},
{q:"Que fait la RÃ©volution pour l'Ã‰glise ?", a:["Nationalisation des biens","Protection des biens","Nouvelles taxes","Rien"], r:"Nationalisation des biens", e:"Les biens deviennent biens nationaux."},
{q:"Qui vote la mort du roi ?", a:["La Convention","Le peuple","Les nobles","NapolÃ©on"], r:"La Convention", e:"Vote en janvier 1793."}
];

/* VARIABLES */
let questionsPartie=[], i=0, score=0, pseudo="", timerValue=15, timerInterval;
const pseudoInput=document.getElementById("pseudo");
const pseudoDiv=document.getElementById("pseudoDiv");
const quizDiv=document.getElementById("quizDiv");
const resultDiv=document.getElementById("resultDiv");
const adminDiv=document.getElementById("adminDiv");
const questionEl=document.getElementById("question");
const answersEl=document.getElementById("answers");
const infoEl=document.getElementById("info");
const scoreText=document.getElementById("scoreText");
const scoreboard=document.getElementById("scoreboard");
const adminScoreboard=document.getElementById("adminScoreboard");
const timerEl=document.getElementById("timer");

/* SHUFFLE */
function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

/* START QUIZ */
function startQuiz(){
pseudo=pseudoInput.value.trim()||"Anonyme";
pseudoDiv.style.display="none";
quizDiv.style.display="block";
i=0; score=0;
questionsPartie=shuffle([...banqueQuestions]).slice(0,10);
showQuestion();
}

/* SHOW QUESTION */
function showQuestion(){
if(i>=questionsPartie.length){showResult(); return;}
const q=questionsPartie[i];
questionEl.innerHTML=`<h2>${i+1}. ${q.q}</h2>`;
infoEl.innerHTML="";
answersEl.innerHTML="";
shuffle([...q.a]).forEach(rep=>{
const b=document.createElement("button");
b.innerText=rep;
b.onclick=()=>checkAnswer(rep,q);
answersEl.appendChild(b);
});
startTimer();
}

/* TIMER */
function startTimer(){
clearInterval(timerInterval);
timerValue=15;
timerEl.innerText=`Temps : ${timerValue} s`;
timerInterval=setInterval(()=>{
timerValue--;
timerEl.innerText=`Temps : ${timerValue} s`;
if(timerValue<=0){
clearInterval(timerInterval);
checkAnswer("",questionsPartie[i]);
}
},1000);
}

/* CHECK ANSWER */
function checkAnswer(rep,q){
clearInterval(timerInterval);
[...answersEl.children].forEach(b=>b.disabled=true);
const btn=[...answersEl.children].find(b=>b.innerText===rep);
let points=0;
if(rep===q.r){
if(btn) btn.classList.add("correct");
points=10+timerValue;
score+=points;
} else{
if(btn) btn.classList.add("wrong");
}
infoEl.innerHTML=`${q.e} (+${points} pts)`;
i++;
setTimeout(showQuestion,1000);
}

/* SHOW RESULT */
function showResult(){
quizDiv.style.display="none";
resultDiv.style.display="block";
scoreText.innerHTML=`${pseudo}, vous avez ${score} points !`;
let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[];
classement.push({pseudo,score,date:new Date().toLocaleString()});
classement.sort((a,b)=>b.score-a.score);
localStorage.setItem("classementQuiz",JSON.stringify(classement));
displayScoreboard();
}

/* DISPLAY SCOREBOARD */
function displayScoreboard(){
let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[];
scoreboard.innerHTML="";
classement.slice(0,10).forEach((entry,idx)=>{
const div=document.createElement("div");
div.innerHTML=`${idx+1}. ${entry.pseudo} â€“ ${entry.score} pts (${entry.date})`;
if(idx===0) div.className="top";
scoreboard.appendChild(div);
});
}

/* RESTART QUIZ */
function restartQuiz(){resultDiv.style.display="none"; pseudoDiv.style.display="block";}

/* ADMIN */
function adminLogin(){
const id=prompt("Entrez l'identifiant admin :");
if(id===MASTER_ID){pseudoDiv.style.display="none"; adminDiv.style.display="block"; displayAdminBoard();}
else alert("Identifiant incorrect !");
}
function displayAdminBoard(){
let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[];
adminScoreboard.innerHTML="";
classement.forEach((entry,idx)=>{
const div=document.createElement("div");
div.innerHTML=`${idx+1}. ${entry.pseudo} â€“ ${entry.score} pts (${entry.date})`;
const btn=document.createElement("button");
btn.innerText="Supprimer";
btn.className="delBtn";
btn.onclick=()=>{
classement.splice(idx,1);
localStorage.setItem("classementQuiz",JSON.stringify(classement));
displayAdminBoard();
};
div.appendChild(btn);
adminScoreboard.appendChild(div);
});
}
function closeAdmin(){adminDiv.style.display="none"; pseudoDiv.style.display="block";}
</script>
</body>
</html>



