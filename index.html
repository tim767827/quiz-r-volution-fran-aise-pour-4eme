<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz RÃ©volution FranÃ§aise â€“ Interactif</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Poppins', sans-serif;
  background: linear-gradient(135deg, #FFDEE9, #B5FFFC);
  display:flex;
  justify-content:center;
  padding:20px;
  transition: background 0.5s;
}
main {
  background:white;
  padding:20px;
  border-radius:20px;
  width:95%;
  max-width:900px;
  box-shadow:0 15px 30px rgba(0,0,0,0.25);
  text-align:center;
  animation: fadeIn 1s ease;
}
@keyframes fadeIn { from {opacity:0; transform: translateY(-20px);} to {opacity:1; transform:translateY(0);} }

h1 {color:#333; text-shadow: 1px 1px 2px rgba(0,0,0,0.2);}
button {
  margin:10px auto;
  padding:12px;
  width:90%;
  max-width:400px;
  border-radius:12px;
  border:none;
  cursor:pointer;
  font-weight:bold;
  font-size:1rem;
  transition: transform 0.2s, background 0.3s;
}
button:hover { transform: scale(1.05);}
.correct {background:#4CAF50;color:white; animation: pop 0.3s;}
.wrong {background:#F44336;color:white; animation: shake 0.3s;}
@keyframes pop { 0% {transform: scale(1);} 50% {transform: scale(1.2);} 100% {transform: scale(1);} }
@keyframes shake { 0% {transform: translateX(0);} 25% {transform: translateX(-5px);} 50% {transform: translateX(5px);} 75% {transform: translateX(-5px);} 100% {transform: translateX(0);} }

#question {text-align:left; margin:15px 0; font-size:1.2rem;}
#feedback {font-style:italic; margin-top:10px; min-height:40px; transition: all 0.3s;}
#timerContainer{background:#ddd;width:95%;height:20px;border-radius:10px;margin:10px auto;overflow:hidden;}
#timerBar{height:100%;width:100%;background:#e91e63;transition:width 1s linear, background 0.5s;}
</style>
</head>
<body>
<main>
<h1>Quiz RÃ©volution FranÃ§aise â€“ Interactif</h1>

<div id="startDiv">
<p>Entrez votre pseudo :</p>
<input type="text" id="pseudo" placeholder="Pseudo">
<button onclick="startQuiz()">Commencer</button>
</div>

<div id="quizDiv" style="display:none;">
<div id="timerContainer"><div id="timerBar"></div></div>
<div id="question"></div>
<div id="answers"></div>
<p id="feedback"></p>
</div>

<div id="resultDiv" style="display:none;">
<h2>Quiz terminÃ© ! ðŸŽ‰</h2>
<p id="scoreText"></p>
<button onclick="restartQuiz()">Recommencer</button>
</div>

<script>
let pseudo="", score=0, i=0, timerValue=20, timerInterval;
const pseudoInput=document.getElementById("pseudo");
const quizDiv=document.getElementById("quizDiv");
const resultDiv=document.getElementById("resultDiv");
const questionEl=document.getElementById("question");
const answersEl=document.getElementById("answers");
const feedbackEl=document.getElementById("feedback");
const scoreText=document.getElementById("scoreText");
const timerBar=document.getElementById("timerBar");

// ===== QUESTIONS exemple =====
const banqueQuestions=[
{q:"En quelle annÃ©e commence la RÃ©volution franÃ§aise ?", a:["1789","1799","1776","1804"], r:"1789", e:"La RÃ©volution franÃ§aise commence en 1789, avec la convocation des Ã‰tats gÃ©nÃ©raux et la prise de la Bastille. Cet Ã©vÃ©nement marque la fin de l'absolutisme royal."},
{q:"Qui Ã©tait le roi en 1789 ?", a:["Louis XVI","Louis XIV","NapolÃ©on","Charles X"], r:"Louis XVI", e:"Louis XVI est le roi au dÃ©but de la RÃ©volution. Son incapacitÃ© Ã  rÃ©former les finances et la sociÃ©tÃ© a prÃ©cipitÃ© la crise."},
{q:"Quel Ã©vÃ©nement a lieu le 14 juillet 1789 ?", a:["Prise de la Bastille","FÃªte nationale","ExÃ©cution du roi","Code civil"], r:"Prise de la Bastille", e:"La prise de la Bastille est un symbole de la lutte du peuple contre l'absolutisme. Elle est devenue la fÃªte nationale franÃ§aise."},
{q:"Que signifie 'libertÃ©, Ã©galitÃ©, fraternitÃ©' ?", a:["Valeurs de la RÃ©volution","Un dÃ©cret royal","Une fÃªte","Une loi"], r:"Valeurs de la RÃ©volution", e:"Cette devise est apparue pendant la RÃ©volution et reprÃ©sente les droits et la solidaritÃ© entre les citoyens."},
{q:"Quel groupe social Ã©tait le plus imposÃ© ?", a:["Le Tiers-Ã‰tat","La noblesse","Le clergÃ©","Les soldats"], r:"Le Tiers-Ã‰tat", e:"Le Tiers-Ã‰tat reprÃ©sente la majoritÃ© de la population et supportait la plupart des impÃ´ts, contrairement aux nobles et au clergÃ©."},
// ... Ajoute toutes les 50 questions avec explications dÃ©taillÃ©es ici
];

// ===== UTILS =====
function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

// ===== DÃ‰BUT QUIZ =====
function startQuiz(){
pseudo=pseudoInput.value.trim()||"Anonyme"; 
document.getElementById("startDiv").style.display="none"; 
quizDiv.style.display="block";
score=0; i=0;
banqueQuestions=shuffle([...banqueQuestions]).slice(0,10);
showQuestion();
}

// ===== AFFICHER QUESTION =====
function showQuestion(){
if(i>=banqueQuestions.length){showResult(); return;}
const q=banqueQuestions[i];
questionEl.innerHTML=`<strong>Q${i+1} :</strong> ${q.q}`;
feedbackEl.innerHTML="";
answersEl.innerHTML="";
shuffle([...q.a]).forEach(rep=>{
  const b=document.createElement("button");
  b.innerText=rep;
  b.onclick=()=>checkAnswer(rep,q);
  answersEl.appendChild(b);
});
startTimer();
}

// ===== TIMER =====
function startTimer(){
clearInterval(timerInterval); timerValue=20; updateTimerBar();
timerInterval=setInterval(()=>{
  timerValue--; updateTimerBar();
  if(timerValue<=0){clearInterval(timerInterval); checkAnswer("",banqueQuestions[i]);}
},1000);
}

function updateTimerBar(){
let perc=Math.max(timerValue/20*100,0);
timerBar.style.width=perc+"%";
timerBar.style.background=perc>50?"#4caf50":perc>20?"#ffeb3b":"#f44336";
}

// ===== VERIFIER REPONSE =====
function checkAnswer(rep,q){
clearInterval(timerInterval);
[...answersEl.children].forEach(b=>b.disabled=true);
let points=0;
if(rep===q.r){points=10+timerValue; score+=points; [...answersEl.children].find(b=>b.innerText===rep).classList.add("correct");}
else{[...answersEl.children].find(b=>b.innerText===rep)?.classList.add("wrong");}
feedbackEl.innerHTML=`${q.e} (+${points} pts)`; 
i++; setTimeout(showQuestion,2000);
}

// ===== RESULTAT =====
function showResult(){
quizDiv.style.display="none"; resultDiv.style.display="block";
scoreText.innerHTML=`${pseudo}, vous avez ${score} points !\nVous pouvez refaire le quiz pour progresser.`;
}

// ===== RECOMMENCER =====
function restartQuiz(){
resultDiv.style.display="none"; document.getElementById("startDiv").style.display="block";
}
</script>
</body>
</html>






