<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quiz RÃ©volution FranÃ§aise â€“ S'amÃ©liorer</title>
<style>
body {font-family:sans-serif;background:#f0f8ff;display:flex;justify-content:center;padding:20px;}
main {background:white;padding:20px;border-radius:20px;width:95%;max-width:900px;box-shadow:0 10px 20px rgba(0,0,0,0.2);text-align:center;}
button {padding:10px 20px;margin:10px;border:none;border-radius:10px;cursor:pointer;font-weight:bold;}
.correct{background:#4caf50;color:white;}
.wrong{background:#f44336;color:white;}
#question{text-align:left;margin:15px 0;}
#scoreDiv{margin-top:20px;}
#timerContainer{background:#ddd;width:95%;height:20px;border-radius:10px;margin:10px auto;overflow:hidden;}
#timerBar{height:100%;width:100%;background:#e91e63;transition:width 1s linear,background 0.5s;}
</style>
</head>
<body>
<main>
<h1>Quiz RÃ©volution FranÃ§aise â€“ Sâ€™amÃ©liorer</h1>

<div id="startDiv">
<p>Entrez votre pseudo :</p>
<input type="text" id="pseudo" placeholder="Pseudo">
<button onclick="startQuiz()">Commencer</button>
</div>

<div id="quizDiv" style="display:none;">
<div id="timerContainer"><div id="timerBar"></div></div>
<div id="question"></div>
<div id="answers"></div>
<p id="feedback"></p>
</div>

<div id="resultDiv" style="display:none;">
<h2>Quiz terminÃ© ! ðŸŽ‰</h2>
<p id="scoreText"></p>
<button onclick="restartQuiz()">Recommencer</button>
</div>

<script>
let pseudo="", score=0, i=0, timerValue=20, timerInterval;
const pseudoInput=document.getElementById("pseudo");
const quizDiv=document.getElementById("quizDiv");
const resultDiv=document.getElementById("resultDiv");
const questionEl=document.getElementById("question");
const answersEl=document.getElementById("answers");
const feedbackEl=document.getElementById("feedback");
const scoreText=document.getElementById("scoreText");
const timerBar=document.getElementById("timerBar");

// ===== 50 QUESTIONS avec explications dÃ©taillÃ©es =====
const banqueQuestions=[
{q:"En quelle annÃ©e commence la RÃ©volution franÃ§aise ?", a:["1789","1799","1776","1804"], r:"1789", e:"La RÃ©volution franÃ§aise commence en 1789, avec la convocation des Ã‰tats gÃ©nÃ©raux et la prise de la Bastille. Cet Ã©vÃ©nement marque la fin de l'absolutisme royal."},
{q:"Qui Ã©tait le roi en 1789 ?", a:["Louis XVI","Louis XIV","NapolÃ©on","Charles X"], r:"Louis XVI", e:"Louis XVI est le roi au dÃ©but de la RÃ©volution. Son incapacitÃ© Ã  rÃ©former les finances et la sociÃ©tÃ© a prÃ©cipitÃ© la crise."},
{q:"Quel Ã©vÃ©nement a lieu le 14 juillet 1789 ?", a:["Prise de la Bastille","FÃªte nationale","ExÃ©cution du roi","Code civil"], r:"Prise de la Bastille", e:"La prise de la Bastille est un symbole de la lutte du peuple contre l'absolutisme. Elle est devenue la fÃªte nationale franÃ§aise."},
{q:"Que signifie 'libertÃ©, Ã©galitÃ©, fraternitÃ©' ?", a:["Valeurs de la RÃ©volution","Un dÃ©cret royal","Une fÃªte","Une loi"], r:"Valeurs de la RÃ©volution", e:"Cette devise est apparue pendant la RÃ©volution et reprÃ©sente les droits et la solidaritÃ© entre les citoyens."},
{q:"Quel groupe social Ã©tait le plus imposÃ© ?", a:["Le Tiers-Ã‰tat","La noblesse","Le clergÃ©","Les soldats"], r:"Le Tiers-Ã‰tat", e:"Le Tiers-Ã‰tat reprÃ©sente la majoritÃ© de la population et supportait la plupart des impÃ´ts, contrairement aux nobles et au clergÃ©."},
{q:"Qui a Ã©crit la DÃ©claration des droits de lâ€™Homme ?", a:["Lâ€™AssemblÃ©e nationale","NapolÃ©on","Louis XVI","Robespierre"], r:"Lâ€™AssemblÃ©e nationale", e:"La DÃ©claration des droits de lâ€™Homme et du Citoyen est votÃ©e en 1789 par l'AssemblÃ©e nationale constituante, affirmant les droits fondamentaux."},
{q:"Qui dirigeait le ComitÃ© de Salut Public ?", a:["Robespierre","Louis XVI","NapolÃ©on","Danton"], r:"Robespierre", e:"Robespierre dirige le ComitÃ© de Salut Public pendant la Terreur (1793-1794) et centralise le pouvoir pour dÃ©fendre la RÃ©volution."},
{q:"Quel instrument symbolise la RÃ©volution ?", a:["La guillotine","La tour Eiffel","La Bastille","Le drapeau tricolore"], r:"La guillotine", e:"La guillotine est utilisÃ©e pour exÃ©cuter les condamnÃ©s et symbolise la justice rÃ©volutionnaire et la Terreur."},
{q:"Quand NapolÃ©on devient-il empereur ?", a:["1804","1789","1792","1815"], r:"1804", e:"NapolÃ©on se couronne empereur en 1804 aprÃ¨s avoir consolidÃ© son pouvoir et stabilisÃ© la France post-rÃ©volution."},
{q:"Quâ€™est-ce que le Tiers-Ã‰tat ?", a:["Le peuple","Les nobles","Le clergÃ©","Les soldats"], r:"Le peuple", e:"Le Tiers-Ã‰tat reprÃ©sente le peuple franÃ§ais, comprenant bourgeois, paysans et artisans, qui formaient la majoritÃ© de la population."},
// ... tu peux ajouter jusqu'Ã  50 questions en suivant le mÃªme format
];

// ===== UTILS =====
function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}

// ===== DÃ‰BUT QUIZ =====
function startQuiz(){
pseudo=pseudoInput.value.trim()||"Anonyme"; 
document.getElementById("startDiv").style.display="none"; 
quizDiv.style.display="block";
score=0; i=0;
banqueQuestions=shuffle([...banqueQuestions]).slice(0,10); // prend 10 questions par session
showQuestion();
}

// ===== AFFICHER QUESTION =====
function showQuestion(){
if(i>=banqueQuestions.length){showResult(); return;}
const q=banqueQuestions[i];
questionEl.innerHTML=`<strong>Q${i+1} :</strong> ${q.q}`;
feedbackEl.innerHTML="";
answersEl.innerHTML="";
shuffle([...q.a]).forEach(rep=>{
  const b=document.createElement("button");
  b.innerText=rep;
  b.onclick=()=>checkAnswer(rep,q);
  answersEl.appendChild(b);
});
startTimer();
}

// ===== TIMER =====
function startTimer(){
clearInterval(timerInterval); timerValue=20; updateTimerBar();
timerInterval=setInterval(()=>{
  timerValue--; updateTimerBar();
  if(timerValue<=0){clearInterval(timerInterval); checkAnswer("",banqueQuestions[i]);}
},1000);
}

function updateTimerBar(){
let perc=Math.max(timerValue/20*100,0);
timerBar.style.width=perc+"%";
timerBar.style.background=perc>50?"#4caf50":perc>20?"#ffeb3b":"#f44336";
}

// ===== VERIFIER REPONSE =====
function checkAnswer(rep,q){
clearInterval(timerInterval);
[...answersEl.children].forEach(b=>b.disabled=true);
let points=0;
if(rep===q.r){points=10+timerValue; score+=points; [...answersEl.children].find(b=>b.innerText===rep).classList.add("correct");}
else{[...answersEl.children].find(b=>b.innerText===rep)?.classList.add("wrong");}
feedbackEl.innerHTML=`${q.e} (+${points} pts)`; 
i++; setTimeout(showQuestion,2000);
}

// ===== RESULTAT =====
function showResult(){
quizDiv.style.display="none"; resultDiv.style.display="block";
scoreText.innerHTML=`${pseudo}, vous avez ${score} points !\nVous pouvez refaire le quiz pour progresser.`;
}

// ===== RECOMMENCER =====
function restartQuiz(){
resultDiv.style.display="none"; document.getElementById("startDiv").style.display="block";
}
</script>
</body>
</html>





