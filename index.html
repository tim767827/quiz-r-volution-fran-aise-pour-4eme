<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Quiz R√©volution Fran√ßaise ‚Äì 4√®me</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {font-family:'Poppins',sans-serif;background:linear-gradient(135deg,#FFDEE9,#B5FFFC);display:flex;justify-content:center;align-items:center;min-height:100vh;margin:0;}
main {background:white;padding:30px;border-radius:20px;width:90%;max-width:900px;box-shadow:0 20px 40px rgba(0,0,0,0.3);text-align:center;transition:all 0.3s;}
h1 {margin-bottom:10px;color:#333;}
button {display:block;margin:10px auto;padding:14px;width:80%;border-radius:12px;border:none;cursor:pointer;font-size:16px;font-weight:bold;transition:0.2s;}
button:hover {transform:scale(1.05);}
.correct {background:#4CAF50 !important;color:white;animation:pop 0.3s;}
.wrong {background:#F44336 !important;color:white;animation:shake 0.3s;}
@keyframes shake {0%{transform:translateX(0);}25%{transform:translateX(-5px);}50%{transform:translateX(5px);}75%{transform:translateX(-5px);}100%{transform:translateX(0);}}
@keyframes pop {0%{transform:scale(0.8);}100%{transform:scale(1);}}
.adminBtn {background:#FF9800;color:white;}
.adminBtn:hover {background:#F57C00;}
.delBtn {background:#F44336;width:60%;margin:5px auto;}
#info {margin-top:15px;font-style:italic;color:#555;min-height:40px;}
#scoreboard, #adminScoreboard{text-align:left;margin-top:20px;max-height:300px;overflow-y:auto;}
#scoreboard div.top1{background:#FFD700;border-radius:8px;padding:5px; animation:glow 1s infinite alternate;}
#scoreboard div.top2{background:#C0C0C0;border-radius:8px;padding:5px; animation:glow 1s infinite alternate;}
#scoreboard div.top3{background:#CD7F32;border-radius:8px;padding:5px; animation:glow 1s infinite alternate;}
@keyframes glow {from {box-shadow:0 0 5px #FFD700;} to {box-shadow:0 0 15px #FF9800;}}
input {padding:10px;border-radius:8px;border:1px solid #ccc;width:60%;font-size:16px;}
#pseudoDiv p {margin-bottom:10px;}
#timerContainer{background:#ddd;width:80%;height:20px;border-radius:10px;margin:10px auto;overflow:hidden;}
#timerBar{height:100%;width:100%;background:#e91e63;transition:width 1s linear,background 0.5s;}
</style>
</head>
<body>
<main>
<h1>Quiz R√©volution Fran√ßaise ‚Äì 4√®me</h1>

<div id="pseudoDiv">
<p>Entrez votre pseudo pour commencer :</p>
<input type="text" id="pseudo" placeholder="Pseudo" />
<button onclick="startQuiz()">Commencer</button>
<button class="adminBtn" onclick="adminLogin()">Mode Admin</button>
</div>

<div id="quizDiv" style="display:none;">
<div id="timerContainer"><div id="timerBar"></div></div>
<div class="question" id="question"></div>
<div id="answers"></div>
<p id="info"></p>
</div>

<div id="resultDiv" style="display:none;">
<h2>üéâ Quiz termin√© ! üéâ</h2>
<p id="scoreText"></p>
<h3>Classement complet :</h3>
<div id="scoreboard"></div>
<button onclick="restartQuiz()">Rejouer</button>
</div>

<div id="adminDiv" style="display:none;">
<h2>Mode Admin</h2>
<button onclick="displayAdminBoard()">Voir classement et supprimer pseudos</button>
<button onclick="resetClassement()">R√©initialiser classement</button>
<button onclick="addBonusQuestion()">Ajouter une question bonus</button>
<button onclick="changeTimer()">Changer dur√©e chrono</button>
<button onclick="toggleBonus()">Activer/d√©sactiver points bonus</button>
<div id="adminScoreboard" style="margin-top:20px;"></div>
<button onclick="closeAdmin()">Fermer admin</button>
</div>

<script>
const MASTER_ID="@timeolol";
let bonusPoints=true;
let chronoDuration=15;

const banqueQuestions=[
/* 50 questions ici */
[
{q:"En quelle ann√©e commence la R√©volution fran√ßaise ?", a:["1789","1799","1776","1804"], r:"1789", e:"La R√©volution commence en 1789."},
{q:"Qui √©tait le roi en 1789 ?", a:["Louis XVI","Louis XIV","Napol√©on","Charles X"], r:"Louis XVI", e:"Louis XVI est le roi au d√©but de la R√©volution."},
{q:"Quel √©v√©nement a lieu le 14 juillet 1789 ?", a:["Prise de la Bastille","F√™te nationale","Ex√©cution du roi","Code civil"], r:"Prise de la Bastille", e:"La prise de la Bastille est un symbole fort."},
{q:"Comment s'appelle la prison d√©truite en 1789 ?", a:["La Bastille","Le Louvre","Versailles","La Conciergerie"], r:"La Bastille", e:"La Bastille √©tait une prison royale."},
{q:"Quelle assembl√©e repr√©sente le peuple ?", a:["√âtats g√©n√©raux","S√©nat","Parlement","Conseil royal"], r:"√âtats g√©n√©raux", e:"Les √âtats g√©n√©raux regroupent les trois ordres."},
{q:"Quel document proclame les libert√©s ?", a:["D√©claration des droits de l'homme","Code civil","Edit royal","Constitution de 1815"], r:"D√©claration des droits de l'homme", e:"Adopt√©e en 1789, elle proclame la libert√© et l'√©galit√©."},
{q:"Quel ordre payait le plus d'imp√¥ts ?", a:["Le Tiers √âtat","La noblesse","Le clerg√©","Le roi"], r:"Le Tiers √âtat", e:"Le Tiers √âtat supportait la majorit√© des imp√¥ts."},
{q:"Comment appelle-t-on les r√©volutionnaires du peuple ?", a:["Sans-culottes","Nobles","Clercs","Royalistes"], r:"Sans-culottes", e:"Ils repr√©sentent le peuple des villes."},
{q:"Quel roi est ex√©cut√© ?", a:["Louis XVI","Louis XIV","Napol√©on","Charles X"], r:"Louis XVI", e:"Il est guillotin√© en janvier 1793."},
{q:"Quel est le symbole de la R√©publique ?", a:["Drapeau tricolore","Fleur de lys","Couronne","Croix"], r:"Drapeau tricolore", e:"Le drapeau bleu, blanc, rouge symbolise la R√©publique."},
{q:"Qui dirige pendant la Terreur ?", a:["Robespierre","Napol√©on","Louis XVI","Danton"], r:"Robespierre", e:"Robespierre dirige le Comit√© de salut public."},
{q:"Comment s'appelle la p√©riode violente ?", a:["La Terreur","La Paix","La Monarchie","L'Empire"], r:"La Terreur", e:"La Terreur se caract√©rise par des ex√©cutions massives."},
{q:"Quel r√©gime remplace la monarchie ?", a:["La R√©publique","L'Empire","La dictature","La royaut√©"], r:"La R√©publique", e:"La R√©publique est proclam√©e en 1792."},
{q:"Qui est Napol√©on ?", a:["Un g√©n√©ral","Un roi","Un √©v√™que","Un √©crivain"], r:"Un g√©n√©ral", e:"Napol√©on profite de la R√©volution pour prendre le pouvoir."},
{q:"Quel calendrier est cr√©√© ?", a:["Calendrier r√©publicain","Calendrier gr√©gorien","Calendrier romain","Calendrier lunaire"], r:"Calendrier r√©publicain", e:"Cr√©√© pour rompre avec l'√âglise."},
{q:"Que r√©clame le peuple ?", a:["Plus d'√©galit√©","Plus d'imp√¥ts","Plus de rois","Plus de guerres"], r:"Plus d'√©galit√©", e:"Le peuple r√©clame l'√©galit√© face aux privil√®ges."},
{q:"Que sont les privil√®ges ?", a:["Avantages r√©serv√©s","Lois","Imp√¥ts","Armes"], r:"Avantages r√©serv√©s", e:"R√©serv√©s aux nobles et au clerg√©."},
{q:"Quel slogan est c√©l√®bre ?", a:["Libert√© √âgalit√© Fraternit√©","Vive le roi","Paix et guerre","Force et loi"], r:"Libert√© √âgalit√© Fraternit√©", e:"Devise de la R√©publique."},
{q:"O√π se r√©unit le Tiers √âtat ?", a:["Jeu de Paume","Versailles","Bastille","Louvre"], r:"Jeu de Paume", e:"Serment du Jeu de Paume."},
{q:"Quel imp√¥t est injuste ?", a:["La taille","TVA","Imp√¥t sur le revenu","D√Æme"], r:"La taille", e:"Pay√©e presque uniquement par le Tiers √âtat."},
{q:"Que devient la France apr√®s ?", a:["R√©publique","Empire","Monarchie","Dictature"], r:"R√©publique", e:"Premi√®re R√©publique proclam√©e en 1792."},
{q:"Qui cr√©e la guillotine ?", a:["Dr. Guillotin","Robespierre","Napol√©on","Louis XVI"], r:"Dr. Guillotin", e:"Pour rendre les ex√©cutions plus humaines."},
{q:"Comment s'appelle le proc√®s du roi ?", a:["Proc√®s de Louis XVI","Proc√®s de Versailles","Proc√®s de Paris","Proc√®s du peuple"], r:"Proc√®s de Louis XVI", e:"Jug√© pour trahison."},
{q:"Que font les sans-culottes ?", a:["Manifestations et r√©voltes","Gouvernent la France","√âcrivent des lois","Se battent pour le roi"], r:"Manifestations et r√©voltes", e:"Participent aux journ√©es r√©volutionnaires."},
{q:"Qui √©tait Danton ?", a:["R√©volutionnaire","Roi","G√©n√©ral","√âv√™que"], r:"R√©volutionnaire", e:"Leader r√©volutionnaire influent."},
{q:"Qui √©tait Marat ?", a:["Journaliste r√©volutionnaire","Roi","Soldat","√âv√™que"], r:"Journaliste r√©volutionnaire", e:"√âcrit pour soutenir les sans-culottes."},
{q:"Qui √©tait Robespierre ?", a:["Chef r√©volutionnaire","Roi","√âv√™que","√âcrivain"], r:"Chef r√©volutionnaire", e:"Dirige le Comit√© de salut public."},
{q:"Quelle f√™te nationale appara√Æt ?", a:["14 juillet","1er janvier","25 d√©cembre","14 ao√ªt"], r:"14 juillet", e:"En souvenir de la prise de la Bastille."},
{q:"Quel symbole royal dispara√Æt ?", a:["La fleur de lys","Guillotine","Drapeau tricolore","Bonnet"], r:"La fleur de lys", e:"Symbole de la monarchie abandonn√©."},
{q:"Qui est ex√©cut√© avec le roi ?", a:["Marie-Antoinette","Danton","Robespierre","Napol√©on"], r:"Marie-Antoinette", e:"Guillotin√©e en 1793."},
{q:"Quelle guerre √©clate apr√®s ?", a:["Guerres r√©volutionnaires","Guerre de 100 ans","Guerre de 7 ans","Guerre civile"], r:"Guerres r√©volutionnaires", e:"France se d√©fend contre les monarchies europ√©ennes."},
{q:"Qui vote pour la R√©publique ?", a:["La Convention","Le peuple seul","Les nobles","Napol√©on"], r:"La Convention", e:"Vote en septembre 1792."},
{q:"Qui est ex√©cut√© pendant la Terreur ?", a:["Beaucoup de nobles","Le peuple","Le roi","Napol√©on"], r:"Beaucoup de nobles", e:"Pour prot√©ger la R√©volution."},
{q:"Qui dirige apr√®s la Terreur ?", a:["Le Directoire","Robespierre","Le roi","Napol√©on"], r:"Le Directoire", e:"Gouverne de 1795 √† 1799."},
{q:"Qui met fin √† la R√©volution ?", a:["Napol√©on","Robespierre","Louis XVI","Danton"], r:"Napol√©on", e:"Coup d'√âtat du 18 Brumaire 1799."},
{q:"Quel document est la Constitution ?", a:["Constitution de 1791","D√©claration des droits","Code civil","Edit royal"], r:"Constitution de 1791", e:"Limite le pouvoir du roi."},
{q:"Quel roi tente de fuir ?", a:["Louis XVI","Louis XIV","Napol√©on","Charles X"], r:"Louis XVI", e:"Fuite √† Varennes en 1791."},
{q:"Que signifie ‚ÄúTiers-√âtat‚Äù ?", a:["Peuple","Noblesse","Clerg√©","Roi"], r:"Peuple", e:"Ceux qui ne font pas partie du clerg√© ou de la noblesse."},
{q:"Quel est le mot d‚Äôordre des r√©volutionnaires ?", a:["Libert√©","Vive le roi","Paix","Force"], r:"Libert√©", e:"Libert√© au centre de la R√©volution."},
{q:"Que devient Versailles ?", a:["Symbole abandonn√©","R√©sidence royale","Prison","√âglise"], r:"Symbole abandonn√©", e:"Versailles perd sa fonction de centre du pouvoir."},
{q:"Qui cr√©e le calendrier r√©publicain ?", a:["R√©volutionnaires","Roi","Napol√©on","Clerg√©"], r:"R√©volutionnaires", e:"Pour rompre avec les symboles religieux."},
{q:"Quel est le r√¥le des sans-culottes ?", a:["Milice populaire","Nobles","Roi","√âglise"], r:"Milice populaire", e:"Contr√¥lent les rues de Paris."},
{q:"Qui est le chef des girondins ?", a:["Brissot","Robespierre","Danton","Napol√©on"], r:"Brissot", e:"Mod√©r√© par rapport aux Montagnards."},
{q:"Qui √©taient les Montagnards ?", a:["Radicaux r√©volutionnaires","Nobles","Clerg√©","Roi"], r:"Radicaux r√©volutionnaires", e:"Veulent mesures strictes."},
{q:"Quel outil est utilis√© pour ex√©cuter ?", a:["Guillotine","√âp√©e","B√¢ton","Canon"], r:"Guillotine", e:"Ex√©cutions rapides et √©gales pour tous."},
{q:"Que fait la R√©volution pour l'√âglise ?", a:["Nationalisation des biens","Protection des biens","Nouvelles taxes","Rien"], r:"Nationalisation des biens", e:"Les biens deviennent biens nationaux."},
{q:"Qui vote la mort du roi ?", a:["La Convention","Le peuple","Les nobles","Napol√©on"], r:"La Convention", e:"Vote en janvier 1793."}
];

let questionsPartie=[], i=0, score=0, pseudo="", timerValue=chronoDuration, timerInterval;
const pseudoInput=document.getElementById("pseudo");
const pseudoDiv=document.getElementById("pseudoDiv");
const quizDiv=document.getElementById("quizDiv");
const resultDiv=document.getElementById("resultDiv");
const adminDiv=document.getElementById("adminDiv");
const questionEl=document.getElementById("question");
const answersEl=document.getElementById("answers");
const infoEl=document.getElementById("info");
const scoreText=document.getElementById("scoreText");
const scoreboard=document.getElementById("scoreboard");
const adminScoreboard=document.getElementById("adminScoreboard");
const timerBar=document.getElementById("timerBar");

function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}
function startQuiz(){
pseudo=pseudoInput.value.trim()||"Anonyme"; pseudoDiv.style.display="none"; quizDiv.style.display="block";
i=0; score=0;
questionsPartie=shuffle([...banqueQuestions]).slice(0,10);
showQuestion();
}
function showQuestion(){
if(i>=questionsPartie.length){showResult(); return;}
const q=questionsPartie[i];
questionEl.innerHTML=`<h2>${i+1}. ${q.q}</h2>`;
infoEl.innerHTML=""; answersEl.innerHTML="";
shuffle([...q.a]).forEach(rep=>{
const b=document.createElement("button"); b.innerText=rep; b.onclick=()=>checkAnswer(rep,q); answersEl.appendChild(b);
});
startTimer();
}
function startTimer(){clearInterval(timerInterval); timerValue=chronoDuration; updateTimerBar();
timerInterval=setInterval(()=>{timerValue--; updateTimerBar(); if(timerValue<=0){clearInterval(timerInterval); checkAnswer("",questionsPartie[i]);}},1000);}
function updateTimerBar(){
let perc=Math.max(timerValue/chronoDuration*100,0);
timerBar.style.width=perc+"%"; timerBar.style.background=perc>50?"#4caf50":perc>20?"#ffeb3b":"#f44336";
}
function checkAnswer(rep,q){
clearInterval(timerInterval); [...answersEl.children].forEach(b=>b.disabled=true);
const btn=[...answersEl.children].find(b=>b.innerText===rep); let points=0;
if(rep===q.r){if(btn) btn.classList.add("correct"); points=bonusPoints? 10+timerValue:10; score+=points;}
else{if(btn) btn.classList.add("wrong");}
infoEl.innerHTML=`${q.e} (+${points} pts)`; i++; setTimeout(showQuestion,1500);
}
function showResult(){
quizDiv.style.display="none"; resultDiv.style.display="block";
scoreText.innerHTML=`${pseudo}, vous avez ${score} points !`;
let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[];
classement.push({pseudo,score,date:new Date().toLocaleString()});
classement.sort((a,b)=>b.score-a.score); localStorage.setItem("classementQuiz",JSON.stringify(classement));
displayScoreboard(); // toujours visible pour tous
}
function displayScoreboard(){
let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[];
scoreboard.innerHTML="";
classement.forEach((entry,idx)=>{
const div=document.createElement("div");
div.innerHTML=`${idx+1}. ${entry.pseudo} ‚Äì ${entry.score} pts (${entry.date})`;
if(idx===0) div.className="top1"; else if(idx===1) div.className="top2"; else if(idx===2) div.className="top3";
scoreboard.appendChild(div);
});
}
function restartQuiz(){resultDiv.style.display="none"; pseudoDiv.style.display="block";}

// === MODE ADMIN ===
function adminLogin(){const id=prompt("Entrez identifiant admin :"); if(id===MASTER_ID){pseudoDiv.style.display="none"; adminDiv.style.display="block"; displayAdminBoard();} else alert("Identifiant incorrect");}
function displayAdminBoard(){let classement=JSON.parse(localStorage.getItem("classementQuiz"))||[]; adminScoreboard.innerHTML="";
classement.forEach((entry,idx)=>{const div=document.createElement("div"); div.innerHTML=`${idx+1}. ${entry.pseudo} ‚Äì ${entry.score} pts (${entry.date})`;
const btn=document.createElement("button"); btn.innerText="Supprimer"; btn.className="delBtn";
btn.onclick=()=>{classement.splice(idx,1); localStorage.setItem("classementQuiz",JSON.stringify(classement)); displayAdminBoard();};
div.appendChild(btn); adminScoreboard.appendChild(div);});}
function closeAdmin(){adminDiv.style.display="none"; pseudoDiv.style.display="block";}
function resetClassement(){if(confirm("R√©initialiser le classement ?")){localStorage.removeItem("classementQuiz"); displayAdminBoard(); alert("Classement r√©initialis√© !");}}
function addBonusQuestion(){const q=prompt("Nouvelle question :"); const r=prompt("R√©ponse correcte :"); if(q&&r){banqueQuestions.push({q:q,a:[r,"Option2","Option3","Option4"],r:r,e:"Question bonus"}); alert("Question bonus ajout√©e !");}}
function changeTimer(){const t=parseInt(prompt("Nouvelle dur√©e chrono en secondes :",chronoDuration)); if(!isNaN(t)&&t>0){chronoDuration=t; alert("Dur√©e chrono chang√©e !");}}
function toggleBonus(){bonusPoints=!bonusPoints; alert("Points bonus "+(bonusPoints?"activ√©s":"d√©sactiv√©s")+" !");}
</script>
</body>
</html>








